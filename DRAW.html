<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeichnen & Senden</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <h1>Zeichne hier</h1>
        <canvas id="drawingCanvas" width="800" height="600"></canvas>
        <button id="sendButton">Zeichnung senden</button>
    </div>

    <script src="script.js">

    const canvas = document.getElementById("drawingCanvas");
    const ctx = canvas.getContext("2d");

    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;

    // Funktionen zum Zeichnen
    function startDrawing(event) {
        isDrawing = true;
        [lastX, lastY] = getCoordinates(event);
    }

    function stopDrawing() {
        isDrawing = false;
    }

    function draw(event) {
        if (!isDrawing) return;

        const [x, y] = getCoordinates(event);

        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(x, y);
        ctx.stroke();

        [lastX, lastY] = [x, y];
    }

    function getCoordinates(event) {
        const rect = canvas.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;
        return [x, y];
    }

    canvas.addEventListener("mousedown", startDrawing);
    canvas.addEventListener("mouseup", stopDrawing);
    canvas.addEventListener("mousemove", draw);

    canvas.addEventListener("touchstart", (event) => {
        event.preventDefault();
        startDrawing(event.touches[0]);
    });
    canvas.addEventListener("touchend", stopDrawing);
    canvas.addEventListener("touchmove", (event) => {
        event.preventDefault();
        draw(event.touches[0]);
    });

    // Funktion zum Senden der Zeichnung per E-Mail
    document.getElementById("sendButton").addEventListener("click", function() {
        const drawingData = canvas.toDataURL(); // Die Zeichnung als Bild-URL

        const emailBody = encodeURIComponent(`Bitte finden Sie die Zeichnung im Anhang: \n\n${drawingData}`);
        const mailtoLink = `mailto:example@example.com?subject=Zeichnung&body=${emailBody}`;

        window.location.href = mailtoLink; // Ã–ffnet den E-Mail-Client
    });


    </script>
</body>
</html>
