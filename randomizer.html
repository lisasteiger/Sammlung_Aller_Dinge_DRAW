<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style/randomizer.css">
  <title>Randomizer Sammlung Aller Dinge</title>
</head>
<body>
  <div class="slider-container">
       <input type="range" id="scaleSlider1" class="slider" min="0.2" max="2" step="0.1" value="1" oninput="updateScale(1, this.value)">
       <input type="range" id="scaleSlider2" class="slider" min="0.2" max="2" step="0.1" value="1" oninput="updateScale(2, this.value)">
   </div>

   <button class="z-index-button" onclick="rotateZIndex()">Vice Versa</button>
   <button class="button" onclick="showRandomImages()">Shuffle</button>

   <div class="container" id="imageContainer"></div>

    <div class="gallery">
      <img src="assets/1_01.png" alt="Bild 1">
      <img src="assets/1_02.png" alt="Bild 2">
      <img src="assets/1_03.png" alt="Bild 3">
      <img src="assets/1_04.png" alt="Bild 4">
      <img src="assets/1_05.png" alt="Bild 4">
      <img src="assets/2_01.png" alt="Bild 1">
      <img src="assets/2_02.png" alt="Bild 2">
      <img src="assets/2_03.png" alt="Bild 3">
      <img src="assets/2_04.png" alt="Bild 4">
      <img src="assets/2_05.png" alt="Bild 1">
      <img src="assets/2_06.png" alt="Bild 2">
      <img src="assets/2_07.png" alt="Bild 3">
      <img src="assets/2_08.png" alt="Bild 4">
      <img src="assets/2_09.png" alt="Bild 4">
      <img src="assets/2_10.png" alt="Bild 1">
      <img src="assets/2_11.png" alt="Bild 4">
      <img src="assets/2_12.png" alt="Bild 2">
      <img src="assets/2_13.png" alt="Bild 3">
      <img src="assets/2_14.png" alt="Bild 4">
      <img src="assets/2_15.png" alt="Bild 1">
      <img src="assets/2_16.png" alt="Bild 2">
      <img src="assets/2_17.png" alt="Bild 3">
      <img src="assets/2_18.png" alt="Bild 4">
      <img src="assets/2_20.png" alt="Bild 4">
      <img src="assets/2_21.png" alt="Bild 1">
      <img src="assets/2_22.png" alt="Bild 2">
      <img src="assets/2_23.png" alt="Bild 3">
      <img src="assets/2_24.png" alt="Bild 4">
      <img src="assets/2_25.png" alt="Bild 1">
      <img src="assets/2_26.png" alt="Bild 2">
      <img src="assets/2_27.png" alt="Bild 3">
      <img src="assets/2_28.png" alt="Bild 4">
      <img src="assets/3_01.png" alt="Bild 1">
      <img src="assets/3_02.png" alt="Bild 2">
      <img src="assets/3_03.png" alt="Bild 3">
      <img src="assets/3_04.png" alt="Bild 1">
      <img src="assets/3_05.png" alt="Bild 2">
      <img src="assets/3_06.png" alt="Bild 3">
      <img src="assets/4_01.png" alt="Bild 1">
      <img src="assets/4_02.png" alt="Bild 2">
      <img src="assets/4_03.png" alt="Bild 3">
      <img src="assets/4_04.png" alt="Bild 4">
      <img src="assets/5_01.png" alt="Bild 1">
      <img src="assets/5_02.png" alt="Bild 2">
      <img src="assets/5_03.png" alt="Bild 3">
      <img src="assets/5_04.png" alt="Bild 4">
      <img src="assets/5_05.png" alt="Bild 1">
      <img src="assets/5_06.png" alt="Bild 1">
      <img src="assets/5_07.png" alt="Bild 2">
      <img src="assets/5_08.png" alt="Bild 3">
      <img src="assets/5_09.png" alt="Bild 4">
      <img src="assets/5_11.png" alt="Bild 1">
      <img src="assets/5_12.png" alt="Bild 2">
      <img src="assets/5_13.png" alt="Bild 3">
      <img src="assets/5_14.png" alt="Bild 4">
      <img src="assets/5_15.png" alt="Bild 1">
      <img src="assets/5_16.png" alt="Bild 1">
      <img src="assets/5_17.png" alt="Bild 2">
      <img src="assets/5_18.png" alt="Bild 3">
      <img src="assets/5_19.png" alt="Bild 4">
      <img src="assets/5_20.png" alt="Bild 1">
      <img src="assets/5_21.png" alt="Bild 1">
      <img src="assets/5_22.png" alt="Bild 2">
      <img src="assets/5_23.png" alt="Bild 3">
      <img src="assets/5_24.png" alt="Bild 4">
      <img src="assets/5_25.png" alt="Bild 1">
      <img src="assets/5_26.png" alt="Bild 1">
      <img src="assets/5_27.png" alt="Bild 2">
      <img src="assets/5_28.png" alt="Bild 3">
      <img src="assets/5_29.png" alt="Bild 4">
      <img src="assets/5_30.png" alt="Bild 1">
      <img src="assets/5_31.png" alt="Bild 1">
      <img src="assets/6_01.png" alt="Bild 1">
      <img src="assets/6_02.png" alt="Bild 2">
      <img src="assets/6_03.png" alt="Bild 3">
      <img src="assets/7_01.png" alt="Bild 1">
      <img src="assets/7_02.png" alt="Bild 2">
      <img src="assets/7_03.png" alt="Bild 3">
      <img src="assets/7_05.png" alt="Bild 1">
      <img src="assets/7_06.png" alt="Bild 1">
      <img src="assets/7_07.png" alt="Bild 2">
      <img src="assets/7_08.png" alt="Bild 3">
      <img src="assets/7_09.png" alt="Bild 4">
      <img src="assets/7_11.png" alt="Bild 1">
      <img src="assets/7_12.png" alt="Bild 2">
      <img src="assets/7_13.png" alt="Bild 3">
      <img src="assets/7_14.png" alt="Bild 4">
      <img src="assets/7_16.png" alt="Bild 1">
      <img src="assets/7_17.png" alt="Bild 2">
    </div>

    <script>
        function getRandomImages() {
            const images = document.querySelectorAll('.gallery img');
            const randomIndices = [];
            while (randomIndices.length < 2) {
                const randomIndex = Math.floor(Math.random() * images.length);
                if (!randomIndices.includes(randomIndex)) {
                    randomIndices.push(randomIndex);
                }
            }
            return randomIndices.map(index => images[index].cloneNode());
        }

        function makeDraggable(element) {
            let offsetX = 0, offsetY = 0, startX = 0, startY = 0;

            element.addEventListener('mousedown', (e) => {
                e.preventDefault();
                startX = e.clientX;
                startY = e.clientY;
                offsetX = element.offsetLeft;
                offsetY = element.offsetTop;

                document.addEventListener('mousemove', moveElement);
                document.addEventListener('mouseup', stopDragging);
            });

            function moveElement(e) {
                element.style.left = offsetX + e.clientX - startX + 'px';
                element.style.top = offsetY + e.clientY - startY + 'px';
            }

            function stopDragging() {
                document.removeEventListener('mousemove', moveElement);
                document.removeEventListener('mouseup', stopDragging);
            }
        }

        function showRandomImages() {
            const container = document.getElementById('imageContainer');
            container.innerHTML = '';
            const randomImages = getRandomImages();

            randomImages.forEach((image, index) => {
                image.classList.add('image');
                image.id = `image${index + 1}`; // Assign IDs to images for easier identification
                image.style.zIndex = index + 1; // Z-Index basierend auf der Reihenfolge setzen
                container.appendChild(image);
                makeDraggable(image);
            });
        }

        function updateScale(imageIndex, scale) {
            const image = document.getElementById(`image${imageIndex}`);
            if (image) {
                image.style.transform = `translate(-50%, -50%) scale(${scale})`;
            }
        }

        function rotateZIndex() {
            const images = Array.from(document.querySelectorAll('.image'));
            if (images.length > 1) {
                // Alle Z-Indizes holen und sortieren
                const zIndices = images.map(img => parseInt(img.style.zIndex || 0));

                // Z-Index des Vordergrund-Elements finden
                const maxZIndex = Math.max(...zIndices);
                const frontImage = images.find(img => parseInt(img.style.zIndex) === maxZIndex);

                // Vorderstes Bild nach hinten schieben
                frontImage.style.zIndex = Math.min(...zIndices) - 1;

                // Restliche Bilder nach vorne rÃ¼cken
                images.forEach(img => {
                    if (img !== frontImage) {
                        img.style.zIndex = parseInt(img.style.zIndex) + 1;
                    }
                });
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            showRandomImages();
        });
    </script>


    <footer>
        <id id="navibereich">
            <ul>
                <li id="navigation"><a href="mailto:lisa.steiger@zhdk.ch?subject=Randomizer%20Aller%20Ding">Screenshot an Lisa schicken</a></li><br>
                <li id="navigation"><a href="index.html">Sammlung Aller Dinge</a></li><br><br>
            </ul>
        </id>
    </footer>
</body>
</html>
